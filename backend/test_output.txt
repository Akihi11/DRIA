
================================================================================
  计算模块调试测试
================================================================================

配置文件: D:\PythonCode\DRIA\backend\config_sessions\config_test.json
数据文件: D:\PythonCode\DRIA\backend\uploads\fa546266-2bd3-4eab-8cdd-d6ae50e838a3.csv

================================================================================
  1. 测试数据读取
================================================================================

显示通道: ['系统电流', '系统电压', '滑油压力', '排气温度', 'Ng', 'Np']
总数据点数: 12000

前5个数据点:
  1. time=0.000s, Ng=0.00
  2. time=0.010s, Ng=1.67
  3. time=0.020s, Ng=3.34
  4. time=0.030s, Ng=5.00
  5. time=0.040s, Ng=6.67

后5个数据点:
  1. time=119.950s, Ng=0.00
  2. time=119.960s, Ng=0.00
  3. time=119.970s, Ng=0.00
  4. time=119.980s, Ng=0.00
  5. time=119.990s, Ng=0.00

Ng值统计:
  最小值: 0.00
  最大值: 2800.00
  平均值: 1545.83
  > 2000的点数: 5458 / 12000 (45.48%)

================================================================================
  2. 测试计算过程
================================================================================

配置信息:
  显示通道: ['系统电流', '系统电压', '滑油压力', '排气温度', 'Ng', 'Np']
  组合逻辑: AND
  条件1:
    enabled: True
    channel: Np
    statistic: Min (这是传递给计算器的值)
    duration: 1s
    logic: <
    threshold: 2000

  原始配置文件中的统计方法: 最小值

================================================================================
  前20条数据点的详细计算过程
================================================================================

条件1配置:
  通道: Np
  统计方法: Min
  窗口时长: 1s
  逻辑: <
  阈值: 2000


============================================================================================================================================
索引     时间(s)        当前Ng         窗口大小       统计值          窗口最小值        窗口最大值        条件        
============================================================================================================================================
0      0.000        0.00         1          0.00         0.00         0.00         [满足]      
      窗口值: [0.00]
      计算: Min(窗口) = 0.00, 判断: 0.00 < 2000 = True

1      0.010        1.67         2          0.00         0.00         1.67         [满足]      
      窗口值: [0.00, 1.67]
      计算: Min(窗口) = 0.00, 判断: 0.00 < 2000 = True

2      0.020        3.34         3          0.00         0.00         3.34         [满足]      
      窗口值: [0.00, 1.67, 3.34]
      计算: Min(窗口) = 0.00, 判断: 0.00 < 2000 = True

3      0.030        5.00         4          0.00         0.00         5.00         [满足]      
      窗口值: [0.00, 1.67, 3.34, 5.00]
      计算: Min(窗口) = 0.00, 判断: 0.00 < 2000 = True

4      0.040        6.67         5          0.00         0.00         6.67         [满足]      
      窗口值: [0.00, 1.67, 3.34, 5.00, 6.67]
      计算: Min(窗口) = 0.00, 判断: 0.00 < 2000 = True

5      0.050        8.34         6          0.00         0.00         8.34         [满足]      
6      0.060        10.01        7          0.00         0.00         10.01        [满足]      
7      0.070        11.67        8          0.00         0.00         11.67        [满足]      
8      0.080        13.34        9          0.00         0.00         13.34        [满足]      
9      0.090        15.01        10         0.00         0.00         15.01        [满足]      
10     0.100        16.68        11         0.00         0.00         16.68        [满足]      
11     0.110        18.35        12         0.00         0.00         18.35        [满足]      
12     0.120        20.01        13         0.00         0.00         20.01        [满足]      
13     0.130        21.68        14         0.00         0.00         21.68        [满足]      
14     0.140        23.35        15         0.00         0.00         23.35        [满足]      
15     0.150        25.02        16         0.00         0.00         25.02        [满足]      
16     0.160        26.68        17         0.00         0.00         26.68        [满足]      
17     0.170        28.35        18         0.00         0.00         28.35        [满足]      
18     0.180        30.02        19         0.00         0.00         30.02        [满足]      
19     0.190        31.69        20         0.00         0.00         31.69        [满足]      

详细说明:
  - 统计值：使用配置的统计方法（Min）计算窗口内所有值的统计值
  - 条件：判断 统计值 < 2000 是否成立
  - 窗口值样本：窗口内数值的样本，用于查看窗口内容

执行完整计算...

计算结果:
  总快照数: 1

前10个快照:
  1. time=10.000s
      系统电流=9.56
      系统电压=13135.52
      滑油压力=550.33
      排气温度=897.71
      Ng=1667.78
      Np=1667.78

================================================================================
  快照结果表格
================================================================================

时间(s)        | 系统电流            | 系统电压            | 滑油压力            | 排气温度            | Ng              | Np             
------------------------------------------------------------------------------------------------------------------------
10.000       | 9.56            | 13135.52        | 550.33          | 897.71          | 1667.78         | 1667.78        

总计: 1 个快照

================================================================================
  生成Excel报表
================================================================================

[成功] Excel报表已生成: D:\PythonCode\DRIA\backend\reports\steady_state_report_20251101_175934.xlsx
  文件路径: D:\PythonCode\DRIA\backend\reports\steady_state_report_20251101_175934.xlsx
  快照数量: 1
  显示通道: 系统电流, 系统电压, 滑油压力, 排气温度, Ng, Np

================================================================================
  测试总结
================================================================================

[成功] 生成了 1 个快照
第一个快照时间: 10.000s
最后一个快照时间: 10.000s
Excel报表路径: D:\PythonCode\DRIA\backend\reports\steady_state_report_20251101_175934.xlsx


测试完成，退出代码: 0
