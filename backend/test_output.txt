
================================================================================
  计算模块调试测试
================================================================================

配置文件: D:\PythonCode\DRIA\backend\config_sessions\config_test.json
数据文件: D:\PythonCode\DRIA\backend\uploads\fa546266-2bd3-4eab-8cdd-d6ae50e838a3.csv

================================================================================
  1. 测试数据读取
================================================================================

显示通道: ['Ng', '排气温度', '滑油压力', '系统电压']
总数据点数: 12000

前5个数据点:
  1. time=0.000s, Ng=0.00
  2. time=0.010s, Ng=1.67
  3. time=0.020s, Ng=3.34
  4. time=0.030s, Ng=5.00
  5. time=0.040s, Ng=6.67

后5个数据点:
  1. time=119.950s, Ng=0.00
  2. time=119.960s, Ng=0.00
  3. time=119.970s, Ng=0.00
  4. time=119.980s, Ng=0.00
  5. time=119.990s, Ng=0.00

Ng值统计:
  最小值: 0.00
  最大值: 2800.00
  平均值: 1545.83
  > 2000的点数: 5458 / 12000 (45.48%)

================================================================================
  2. 测试计算过程
================================================================================

配置信息:
  显示通道: ['Ng', '排气温度', '滑油压力', '系统电压']
  组合逻辑: Cond1_Only
  条件1:
    enabled: True
    channel: Ng
    statistic: Max (这是传递给计算器的值)
    duration: 1s
    logic: >
    threshold: 2000

  原始配置文件中的统计方法: 最大值

================================================================================
  前20条数据点的详细计算过程
================================================================================

条件1配置:
  通道: Ng
  统计方法: Max
  窗口时长: 1s
  逻辑: >
  阈值: 2000


============================================================================================================================================
索引     时间(s)        当前Ng         窗口大小       统计值          窗口最小值        窗口最大值        条件        
============================================================================================================================================
0      0.000        0.00         1          0.00         0.00         0.00         [不满足]     
      窗口值: [0.00]
      计算: Max(窗口) = 0.00, 判断: 0.00 > 2000 = False

1      0.010        1.67         2          1.67         0.00         1.67         [不满足]     
      窗口值: [0.00, 1.67]
      计算: Max(窗口) = 1.67, 判断: 1.67 > 2000 = False

2      0.020        3.34         3          3.34         0.00         3.34         [不满足]     
      窗口值: [0.00, 1.67, 3.34]
      计算: Max(窗口) = 3.34, 判断: 3.34 > 2000 = False

3      0.030        5.00         4          5.00         0.00         5.00         [不满足]     
      窗口值: [0.00, 1.67, 3.34, 5.00]
      计算: Max(窗口) = 5.00, 判断: 5.00 > 2000 = False

4      0.040        6.67         5          6.67         0.00         6.67         [不满足]     
      窗口值: [0.00, 1.67, 3.34, 5.00, 6.67]
      计算: Max(窗口) = 6.67, 判断: 6.67 > 2000 = False

5      0.050        8.34         6          8.34         0.00         8.34         [不满足]     
6      0.060        10.01        7          10.01        0.00         10.01        [不满足]     
7      0.070        11.67        8          11.67        0.00         11.67        [不满足]     
8      0.080        13.34        9          13.34        0.00         13.34        [不满足]     
9      0.090        15.01        10         15.01        0.00         15.01        [不满足]     
10     0.100        16.68        11         16.68        0.00         16.68        [不满足]     
11     0.110        18.35        12         18.35        0.00         18.35        [不满足]     
12     0.120        20.01        13         20.01        0.00         20.01        [不满足]     
13     0.130        21.68        14         21.68        0.00         21.68        [不满足]     
14     0.140        23.35        15         23.35        0.00         23.35        [不满足]     
15     0.150        25.02        16         25.02        0.00         25.02        [不满足]     
16     0.160        26.68        17         26.68        0.00         26.68        [不满足]     
17     0.170        28.35        18         28.35        0.00         28.35        [不满足]     
18     0.180        30.02        19         30.02        0.00         30.02        [不满足]     
19     0.190        31.69        20         31.69        0.00         31.69        [不满足]     

详细说明:
  - 统计值：使用配置的统计方法（Max）计算窗口内所有值的统计值
  - 条件：判断 统计值 > 2000 是否成立
  - 窗口值样本：窗口内数值的样本，用于查看窗口内容

执行完整计算...

计算结果:
  总快照数: 2

前10个快照:
  1. time=12.000s
      Ng=2001.33
      排气温度=905.29
      滑油压力=650.40
      系统电压=13480.21
  2. time=70.710s
      Ng=2000.53
      排气温度=196.39
      滑油压力=657.30
      系统电压=13915.17

================================================================================
  快照结果表格
================================================================================

时间(s)        | Ng              | 排气温度            | 滑油压力            | 系统电压           
------------------------------------------------------------------------------------
12.000       | 2001.33         | 905.29          | 650.40          | 13480.21       
70.710       | 2000.53         | 196.39          | 657.30          | 13915.17       

总计: 2 个快照

================================================================================
  生成Excel报表
================================================================================

[成功] Excel报表已生成: D:\PythonCode\DRIA\backend\reports\steady_state_report_20251031_215804.xlsx
  文件路径: D:\PythonCode\DRIA\backend\reports\steady_state_report_20251031_215804.xlsx
  快照数量: 2
  显示通道: Ng, 排气温度, 滑油压力, 系统电压

================================================================================
  测试总结
================================================================================

[成功] 生成了 2 个快照
第一个快照时间: 12.000s
最后一个快照时间: 70.710s
Excel报表路径: D:\PythonCode\DRIA\backend\reports\steady_state_report_20251031_215804.xlsx


测试完成，退出代码: 0
